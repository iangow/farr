---
title: "farr"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{farr}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(farr)
```

## Examples

### `form_deciles()`

```{r, message=FALSE}
library(farr)
library(dplyr, warn.conflicts = FALSE)

df <- 
    tibble(x = rnorm(100)) %>%
    mutate(dec_x = form_deciles(x))

df
```

### Functions to handle outliers

The functions `winsorize()` and `truncate()` take different approaches to handling outliers.

```{r, message=FALSE}
library(farr)
library(dplyr, warn.conflicts = FALSE)

df <- 
    tibble(x = rnorm(500)) %>%
    mutate(win_x = winsorize(x),
           trunc_x = truncate(x)) %>%
    arrange(x)

df

df %>% arrange(desc(x))
```

### Database-dependent functions

The following functions require access to the WRDS database server, and therefore do not have examples here.

 - `get_annc_dates()`
 - `get_event_cum_rets()`
 - `get_event_cum_rets_mth()`
 - `get_event_dates()`
 - `get_event_rets()`
 - `get_size_rets_monthly()`
 - `get_trading_dates()`

### IDD periods

The convenience function `get_idd_periods()` uses `idd_data` to divide a sample period into windows.

```{r}
idd_periods <- get_idd_periods(min_date = "1994-01-01", 
                               max_date = "2010-12-31")
idd_periods
```

### Fama-French data functions

These functions get data from Ken French's website.

 - `get_ff_ind()`
 - `get_me_breakpoints()`

